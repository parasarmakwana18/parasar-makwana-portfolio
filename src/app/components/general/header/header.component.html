<nav [@animateMenu] class="navbar main-navbar on-top" [class.nav-shadow]='this.pageYPosition>0'>
    <div class="container">
        <a class="navbar-brand brand text-light" [routerLink]="'inicio'" aria-label="Parasar Makwana home">
            <span class="brand-mark">
                <span class="brand-first">Parasar</span>
                <span class="brand-last">Makwana</span>
            </span>
        </a>
        <ul ngbNav #nav="ngbNav" class="menu-ul">
            <li ngbNavItem (click)='analyticsService.sendAnalyticEvent("click_about", "menu", "click")'>
                <a ngbNavLink (click)='scroll("about")'><span class="underline nav-text"> {{"Header.Item1" | translate}}</span></a>
                <ng-template ngbNavContent>First content</ng-template>
            </li>
            <li ngbNavItem (click)='analyticsService.sendAnalyticEvent("click_experience", "menu", "click")'>
                <a ngbNavLink (click)='scroll("jobs")'><span class="underline nav-text"> {{"Header.Item2" | translate}}</span></a>
                <ng-template ngbNavContent>Second content</ng-template>
            </li>
            <li ngbNavItem (click)='analyticsService.sendAnalyticEvent("click_jobs", "menu", "click")'>
                <a ngbNavLink (click)='scroll("proyects")'><span class="underline nav-text"> {{"Header.Item3" | translate}}</span></a>
                <ng-template ngbNavContent>Second content</ng-template>
            </li>
            <li ngbNavItem (click)='analyticsService.sendAnalyticEvent("click_contact", "menu", "click")'>
                <a ngbNavLink (click)='scroll("contact")'><span class="underline nav-text"> {{"Header.Item4" | translate}}</span></a>
                <ng-template ngbNavContent>Second content</ng-template>
            </li>
            <li ngbNavItem>
                <app-dynamic-button
                  [text]="'Header.cvBtn' | translate"
                  (buttonClick)="downloadCV()"
                  variant="primary"
                  size="small"
                  analyticsEvent="click_cv"
                  analyticsCategory="menu"
                  analyticsLabel="cv_download">
                </app-dynamic-button>
            </li>
            <li>
                <div ngbDropdown class="d-inline-block">
                    <div class="language-container" id="dropdownForm1" ngbDropdownToggle>
                        <span class="flag-text">{{ getLanguageLabel(languageFormControl.value) }}</span>
                        <svg class='arrow-language' xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"/></svg>
                    </div>
                    <div ngbDropdownMenu aria-labelledby="dropdownForm1">
                        <div *ngFor="let lang of languages"
                             (click)='changeLanguage(lang.code)'
                             class="language-container language-container-selector"
                             [class.active]='languageFormControl.value == lang.code'>
                            <span class="flag-text">{{ lang.label }}</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2 arrow-active" viewBox="0 0 16 16">
                                <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        <div class="menu-wrapper">
            <div [class.animate]='responsiveMenuVisible' (click)='responsiveMenuVisible = !responsiveMenuVisible' class="hamburger-menu"></div>
        </div>
        <div class="menu-responsive"
             [class.menu-responsive-open]="responsiveMenuVisible"
             [ngStyle]="{'pointer-events': !responsiveMenuVisible ? 'none' : '' }"
             (click)="responsiveMenuVisible = false">
            <aside (click)="$event.stopPropagation()"
                   [class.aside-show]='responsiveMenuVisible'
                   [class.nav-shadow]='this.pageYPosition>0'
                   class="on-top">
                <nav>
                    <ol>
                        <li (click)='analyticsService.sendAnalyticEvent("click_about", "menu", "click")'>
                            <a (click)='scroll("about")'>{{"Header.Item1" | translate}}</a>
                        </li>
                        <li (click)='analyticsService.sendAnalyticEvent("click_experience", "menu", "click")'>
                            <a (click)='scroll("jobs")'>{{"Header.Item2" | translate}}</a>
                        </li>
                        <li (click)='analyticsService.sendAnalyticEvent("click_jobs", "menu", "click")'>
                          <a (click)='scroll("proyects")'>
                              {{"Header.Item3" | translate}}
                          </a>
                      </li>
                      <li (click)='analyticsService.sendAnalyticEvent("click_contact", "menu", "click")'>
                        <a (click)='scroll("contact")'>{{"Header.Item4" | translate}}</a>
                      </li>
                      <li>
                          <app-dynamic-button
                            [text]="'Header.cvBtn' | translate"
                            (buttonClick)="downloadCV()"
                            variant="primary"
                            size="small"
                            analyticsEvent="click_cv"
                            analyticsCategory="menu"
                            analyticsLabel="cv_download">
                          </app-dynamic-button>
                      </li>
                      <li>
                            <div class="language-container">
                                <div *ngFor="let lang of languages"
                                     (click)='changeLanguage(lang.code)'
                                     class="language-container language-container-selector"
                                     [class.active]='languageFormControl.value == lang.code'>
                                    <span class="flag-text">{{ lang.label }}</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2 arrow-active" viewBox="0 0 16 16">
                                        <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                                    </svg>
                                </div>
                            </div>
                      </li>
                        <!-- language selector handled above -->


                    </ol>
                </nav>
            </aside>
        </div>
    </div>
</nav>
